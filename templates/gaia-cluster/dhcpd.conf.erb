################################################################################
# dhcpd.conf -  Configuration file for the DHCP server for <%= site %>
#                  _ _                    _                   __ 
#               __| | |__   ___ _ __   __| |  ___ ___  _ __  / _|
#              / _` | '_ \ / __| '_ \ / _` | / __/ _ \| '_ \| |_ 
#             | (_| | | | | (__| |_) | (_| || (_| (_) | | | |  _|
#              \__,_|_| |_|\___| .__/ \__,_(_)___\___/|_| |_|_|  
#                              |_| 
#
################################################################################
# /!\ DO NOT EDIT THIS FILE: It has been automatically generated by Puppet.    #
#   In particular, any further changes will be overwritten at the next puppet  #
#   invocation                                                                 #
################################################################################

DHCPD_INTERFACE="eth0 eth1" ;   # Interface where dhcpd is active
use-host-decl-names on; # the name provided for fixed @ attribution is the client hostname
#log-facility local7;   # facility to handle the logfiles - complementary config in /etc/syslog.conf

# The ddns-updates-style parameter controls whether or not the server will
# attempt to do a DNS update when a lease is confirmed. We default to the
# behavior of the version 2 packages ('none', since DHCP v2 didn't
# have support for DDNS.)
ddns-update-style none;

### Lease properties
# option definitions common to all supported networks...
default-lease-time      28800;
max-lease-time          86400;

### Response control
# specific boot options
allow booting;
allow bootp;
deny unknown-clients;

option dhcp-max-message-size 2048;  

# #################### PXE statements ####################
# # Code 1: Multicast IP address of bootfile
# # Code 2: UDP port that client should monitor for MTFTP responses
# # Code 3: UDP port that MTFTP servers are using to listen for MTFTP requests
# # Code 4: Number of secondes a client must listen for activity before trying
# #         to start a new MTFTP transfer
# # Code 5: Number of sxecondes a client must listen before trying to restart
# #         a MTFTP transfer
# #
# # Options for the 'PXE' class
# option space PXE;
# option PXE.mtftp-ip code 1 = ip-address;
# option PXE.mtftp-cport code 2 = unsigned integer 16;
# option PXE.mtftp-sport code 3 = unsigned integer 16;
# option PXE.mtftp-tmout code 4 = unsigned integer 8;
# option PXE.mtftp-delay code 5 = unsigned integer 8;
# option PXE.discovery-control code 6 = unsigned integer 8;
# option PXE.discovery-mcast-addr code 7 = ip-address;

# # 'pxelinux' options
# option space pxelinux;
# option pxelinux.magic      code 208 = string;
# option pxelinux.configfile code 209 = text;
# option pxelinux.pathprefix code 210 = text;
# option pxelinux.reboottime code 211 = unsigned integer 32;
# site-option-space "pxelinux";
# option pxelinux.magic f1:00:74:7e;
# option pxelinux.reboottime 30;

# # 'PXE' class
# class "PXE" {
#   match if substring(option vendor-class-identifier, 0, 9) = "PXEClient";
#   filename "pxelinux.0";
#   option vendor-class-identifier "PXEClient";
#   vendor-option-space PXE;
#   option PXE.mtftp-ip 0.0.0.0;
# }



shared-network "gaia_cluster_network" {
    ####################
    # Virtual Networks #
    ####################
    #  Prod network (10.226.0.0/16) - VLAN 245
    subnet 10.226.0.0 netmask 255.255.0.0 {
        option      domain-name         "gaia-cluster.uni.lux";
        option      domain-name-servers 10.226.251.2;    # Default DNS
        option      ntp-servers         10.226.250.1;    # NTP server of the LCSB site

        option      subnet-mask         255.255.0.0;     # Default subnet mask
        option      broadcast-address   10.226.255.255;  # Default broadcast adress
        option      routers             10.226.0.1;      # Default gateway

        # Host address of the server from which the initial boot file
        # (specified in the filename statement) is to be loaded.
        # FAI server
        next-server 10.226.251.3;
        filename    "pxelinux.0";
    }

    # #  Admin network (10.225.0.0/16) - VLAN 240
    # subnet 10.225.0.0 netmask 255.255.0.0 {
    #   option      domain-name         "gaia-cluster.uni.lux";
    #   option      domain-name-servers 10.225.251.2;    # Default DNS
    #   option      ntp-servers         10.28.0.5;       # NTP server of the LCSB site

    #   option      subnet-mask         255.255.0.0;     # Default subnet mask
    #   option      broadcast-address   10.225.255.255;  # Default broadcast adress
    #   option      routers             10.225.0.1;      # Default gateway
    # }

    #  Mgmt network (10.227.0.0/16) - VLAN 242
    subnet 10.227.0.0 netmask 255.255.0.0 {
        option      domain-name         "gaia-cluster.uni.lux";
        option      domain-name-servers 10.227.251.2;    # Default DNS
        option      ntp-servers         10.226.250.1;    # NTP server of the LCSB site

        option      subnet-mask         255.255.0.0;     # Default subnet mask
        option      broadcast-address   10.227.255.255;  # Default broadcast adress
        option      routers             10.227.0.1;      # Default gateway
    }

    ##################################################################
    # Host declarations on 'Prod' network (10.226.0.0/16) - VLAN 245 #
    ##################################################################
    group {
        # ===== Service nodes =======
        # temporary add
        # host mds1 {
        #     hardware ethernet 00:25:90:3a:21:76;
        #     fixed-address     mds1;
        # }

        # host mds2 {
        #     hardware ethernet 00:25:90:3a:21:48;
        #     fixed-address     mds2;
        # }

        # host oss2 {
        #     hardware ethernet 00:25:90:3a:21:ca;
        #     fixed-address     oss2;
        # }

        # host oss1 {
        #     hardware ethernet 00:25:90:3a:21:c8;
        #     fixed-address     oss1;
        # }

        # host nfs {
        #     hardware ethernet 00:25:90:3a:22:48;
        #     fixed-address     nfs;
        # }

        host columbus {
            hardware ethernet 00:25:90:60:60:0a;
            fixed-address     columbus;
        }

        # ===== gaia cluster nodes =====
        ### Bullx Inca Enclosure # 1
        host gaia-1 {
            hardware ethernet 08:00:38:36:e8:4e;
            fixed-address     gaia-1;
        }
        host gaia-2 {
            hardware ethernet 08:00:38:36:e8:3e;
            fixed-address     gaia-2;
        }
        host gaia-3 {
            hardware ethernet 08:00:38:36:e5:0e;
            fixed-address     gaia-3;
        }
        host gaia-4 {
            hardware ethernet 08:00:38:36:e5:50;
            fixed-address     gaia-4;
        }
        host gaia-5 {
            hardware ethernet 08:00:38:36:e5:4e;
            fixed-address     gaia-5;
        }
        host gaia-6 {
            hardware ethernet 08:00:38:36:e4:de;
            fixed-address     gaia-6;
        }
        host gaia-7 {
            hardware ethernet 08:00:38:36:e5:00;
            fixed-address     gaia-7;
        }
        host gaia-8 {
            hardware ethernet 08:00:38:36:e8:28;
            fixed-address     gaia-8;
        }
        host gaia-9 {
            hardware ethernet 08:00:38:36:e7:6a;
            fixed-address     gaia-9;
        }
        host gaia-10 {
            hardware ethernet 08:00:38:36:e5:10;
            fixed-address     gaia-10;
        }
        host gaia-11 {
            hardware ethernet 08:00:38:36:e5:40;
            fixed-address     gaia-11;
        }
        host gaia-12 {
            hardware ethernet 08:00:38:36:e4:dc;
            fixed-address     gaia-12;
        }
        host gaia-13 {
            hardware ethernet 08:00:38:36:e4:f0;
            fixed-address     gaia-13;
        }
        host gaia-14 {
            hardware ethernet 08:00:38:36:e4:f4;
            fixed-address     gaia-14;
        }
        host gaia-15 {
            hardware ethernet 08:00:38:36:e5:08;
            fixed-address     gaia-15;
        }
        host gaia-16 {
            hardware ethernet 08:00:38:36:e8:40;
            fixed-address     gaia-16;
        }
        host gaia-17 {
            hardware ethernet 08:00:38:36:e8:3a;
            fixed-address     gaia-17;
        }
        host gaia-18 {
            hardware ethernet 08:00:38:36:e8:46;
            fixed-address     gaia-18;
        }

        ### Bullx Inca Enclosure # 2
        host gaia-19 {
            hardware ethernet 08:00:38:36:e4:ea;
            fixed-address     gaia-19;
        }
        host gaia-20 {
            hardware ethernet 08:00:38:36:e4:cc;
            fixed-address     gaia-20;
        }
        host gaia-21 {
            hardware ethernet 08:00:38:36:e5:58;
            fixed-address     gaia-21;
        }
        host gaia-22 {
            hardware ethernet 08:00:38:36:e5:18;
            fixed-address     gaia-22;
        }
        host gaia-23 {
            hardware ethernet 08:00:38:36:e5:4a;
            fixed-address     gaia-23;
        }
        host gaia-24 {
            hardware ethernet 08:00:38:36:e4:d2;
            fixed-address     gaia-24;
        }
        host gaia-25 {
            hardware ethernet 08:00:38:36:e4:d0;
            fixed-address     gaia-25;
        }
        host gaia-26 {
            hardware ethernet 08:00:38:36:e5:32;
            fixed-address     gaia-26;
        }
        host gaia-27 {
            hardware ethernet 08:00:38:36:e4:f2;
            fixed-address     gaia-27;
        }
        host gaia-28 {
            hardware ethernet 08:00:38:36:e5:06;
            fixed-address     gaia-28;
        }
        host gaia-29 {
            hardware ethernet 08:00:38:36:e4:f8;
            fixed-address     gaia-29;
        }
        host gaia-30 {
            hardware ethernet 08:00:38:36:e5:0c;
            fixed-address     gaia-30;
        }
        host gaia-31 {
            hardware ethernet 08:00:38:36:e4:e6;
            fixed-address     gaia-31;
        }
        host gaia-32 {
            hardware ethernet 08:00:38:36:e5:0a;
            fixed-address     gaia-32;
        }
        host gaia-33 {
            hardware ethernet 08:00:38:36:e5:34;
            fixed-address     gaia-33;
        }
        host gaia-34 {
            hardware ethernet 08:00:38:36:e5:44;
            fixed-address     gaia-34;
        }
        host gaia-35 {
            hardware ethernet 08:00:38:36:e5:36;
            fixed-address     gaia-35;
        }
        host gaia-36 {
            hardware ethernet 08:00:38:36:e4:e2;
            fixed-address     gaia-36;
        }

        ### Bullx Inca Enclosure # 3
        host gaia-37 {
            hardware ethernet 08:00:38:36:e8:00;
            fixed-address     gaia-37;
        }
        host gaia-38 {
            hardware ethernet 08:00:38:36:e8:14;
            fixed-address     gaia-38;
        }
        host gaia-39 {
            hardware ethernet 08:00:38:36:e7:ec;
            fixed-address     gaia-39;
        }
        host gaia-40 {
            hardware ethernet 08:00:38:36:e5:4c;
            fixed-address     gaia-40;
        }
        host gaia-41 {
            hardware ethernet 08:00:38:36:e4:c4;
            fixed-address     gaia-41;
        }
        host gaia-42 {
            hardware ethernet 08:00:38:36:e4:08;
            fixed-address     gaia-42;
        }
        host gaia-43 {
            hardware ethernet 08:00:38:36:e5:42;
            fixed-address     gaia-43;
        }
        host gaia-44 {
            hardware ethernet 08:00:38:36:e5:04;
            fixed-address     gaia-44;
        }
        host gaia-45 {
            hardware ethernet 08:00:38:36:e4:f6;
            fixed-address     gaia-45;
        }
        host gaia-46 {
            hardware ethernet 08:00:38:36:e3:a2;
            fixed-address     gaia-46;
        }
        host gaia-47 {
            hardware ethernet 08:00:38:36:e5:48;
            fixed-address     gaia-47;
        }
        host gaia-48 {
            hardware ethernet 08:00:38:36:e5:46;
            fixed-address     gaia-48;
        }
        host gaia-49 {
            hardware ethernet 08:00:38:36:e4:98;
            fixed-address     gaia-49;
        }
        host gaia-50 {
            hardware ethernet 08:00:38:36:e8:e4;
            fixed-address     gaia-50;
        }
        host gaia-51 {
            hardware ethernet 08:00:38:36:e8:c4;
            fixed-address     gaia-51;
        }
        host gaia-52 {
            hardware ethernet 08:00:38:36:e8:ce;
            fixed-address     gaia-52;
        }
        host gaia-53 {
            hardware ethernet 08:00:38:36:e8:8a;
            fixed-address     gaia-53;
        }
        host gaia-54 {
            hardware ethernet 08:00:38:36:e8:d8;
            fixed-address     gaia-54;
        }

        ### Bullx Inca Enclosure # 4
        host gaia-55 {
            hardware ethernet 08:00:38:36:e8:fa;
            fixed-address     gaia-55;
        }
        host gaia-56 {
            hardware ethernet 08:00:38:36:e8:c8;
            fixed-address     gaia-56;
        }
        host gaia-57 {
            hardware ethernet 08:00:38:36:e8:a4;
            fixed-address     gaia-57;
        }
        host gaia-58 {
            hardware ethernet 08:00:38:36:e8:d4;
            fixed-address     gaia-58;
        }
        host gaia-59 {
            hardware ethernet 08:00:38:36:e8:d6;
            fixed-address     gaia-59;
        }
        host gaia-60 {
            hardware ethernet 08:00:38:36:e8:3a;
            fixed-address     gaia-60;
        }
        host gaia-61 {
            hardware ethernet 08:00:38:35:fb:94;
            fixed-address     gaia-61;
        }
        host gaia-62 {
            hardware ethernet 08:00:38:35:fb:e8;
            fixed-address     gaia-62;
        }

    } # End group host of the "Prod" network


    ##################################################################
    # Host declarations on 'Mgmt' network (10.227.0.0/16) - VLAN 242 #
    # These corresponds to BMC cards
    ##################################################################
    group {

        host columbus-bmc {
            hardware ethernet 00:25:90:3f:ee:fe;
            fixed-address     columbus-bmc;
        }

        # ===== gaia cluster nodes (BMC interfaces) =====
        ### Bullx Inca Enclosure # 1
        host gaia-1-bmc {
            hardware ethernet 08:00:38:36:aa:27;
            fixed-address     gaia-1-bmc;
        }
        host gaia-2-bmc {
            hardware ethernet 08:00:38:36:aa:1f;
            fixed-address     gaia-2-bmc;
        }
        host gaia-3-bmc {
            hardware ethernet 08:00:38:36:a8:87;
            fixed-address     gaia-3-bmc;
        }
        host gaia-4-bmc {
            hardware ethernet 08:00:38:36:a8:a8;
            fixed-address     gaia-4-bmc;
        }
        host gaia-5-bmc {
            hardware ethernet 08:00:38:36:a8:a7;
            fixed-address     gaia-5-bmc;
        }
        host gaia-6-bmc {
            hardware ethernet 08:00:38:36:a8:6f;
            fixed-address     gaia-6-bmc;
        }
        host gaia-7-bmc {
            hardware ethernet 08:00:38:36:a8:80;
            fixed-address     gaia-7-bmc;
        }
        host gaia-8-bmc {
            hardware ethernet 08:00:38:36:aa:14;
            fixed-address     gaia-8-bmc;
        }
        host gaia-9-bmc {
            hardware ethernet 08:00:38:36:a9:b5;
            fixed-address     gaia-9-bmc;
        }
        host gaia-10-bmc {
            hardware ethernet 08:00:38:36:a8:88;
            fixed-address     gaia-10-bmc;
        }
        host gaia-11-bmc {
            hardware ethernet 08:00:38:36:a8:a0;
            fixed-address     gaia-11-bmc;
        }
        host gaia-12-bmc {
            hardware ethernet 08:00:38:36:a8:6e;
            fixed-address     gaia-12-bmc;
        }
        host gaia-13-bmc {
            hardware ethernet 08:00:38:36:a8:78;
            fixed-address     gaia-13-bmc;
        }
        host gaia-14-bmc {
            hardware ethernet 08:00:38:36:a8:7a;
            fixed-address     gaia-14-bmc;
        }
        host gaia-15-bmc {
            hardware ethernet 08:00:38:36:a8:84;
            fixed-address     gaia-15-bmc;
        }
        host gaia-16-bmc {
            hardware ethernet 08:00:38:36:aa:20;
            fixed-address     gaia-16-bmc;
        }
        host gaia-17-bmc {
            hardware ethernet 08:00:38:36:aa:1d;
            fixed-address     gaia-17-bmc;
        }
        host gaia-18-bmc {
            hardware ethernet 08:00:38:36:aa:23;
            fixed-address     gaia-18-bmc;
        }

        ### Bullx Inca Enclosure #2
        host gaia-19-bmc {
            hardware ethernet 08:00:38:36:a8:75;
            fixed-address     gaia-19-bmc;
        }
        host gaia-20-bmc {
            hardware ethernet 08:00:38:36:a8:66;
            fixed-address     gaia-20-bmc;
        }
        host gaia-21-bmc {
            hardware ethernet 08:00:38:36:a8:ac;
            fixed-address     gaia-21-bmc;
        }
        host gaia-22-bmc {
            hardware ethernet 08:00:38:36:a8:8c;
            fixed-address     gaia-22-bmc;
        }
        host gaia-23-bmc {
            hardware ethernet 08:00:38:36:a8:a5;
            fixed-address     gaia-23-bmc;
        }
        host gaia-24-bmc {
            hardware ethernet 08:00:38:36:a8:69;
            fixed-address     gaia-24-bmc;
        }
        host gaia-25-bmc {
            hardware ethernet 08:00:38:36:a8:68;
            fixed-address     gaia-25-bmc;
        }
        host gaia-26-bmc {
            hardware ethernet 08:00:38:36:a8:99;
            fixed-address     gaia-26-bmc;
        }
        host gaia-27-bmc {
            hardware ethernet 08:00:38:36:a8:79;
            fixed-address     gaia-27-bmc;
        }
        host gaia-28-bmc {
            hardware ethernet 08:00:38:36:a8:83;
            fixed-address     gaia-28-bmc;
        }
        host gaia-29-bmc {
            hardware ethernet 08:00:38:36:a8:7c;
            fixed-address     gaia-29-bmc;
        }
        host gaia-30-bmc {
            hardware ethernet 08:00:38:36:a8:86;
            fixed-address     gaia-30-bmc;
        }
        host gaia-31-bmc {
            hardware ethernet 08:00:38:36:a8:73;
            fixed-address     gaia-31-bmc;
        }
        host gaia-32-bmc {
            hardware ethernet 08:00:38:36:a8:85;
            fixed-address     gaia-32-bmc;
        }
        host gaia-33-bmc {
            hardware ethernet 08:00:38:36:a8:9a;
            fixed-address     gaia-33-bmc;
        }
        host gaia-34-bmc {
            hardware ethernet 08:00:38:36:a8:a2;
            fixed-address     gaia-34-bmc;
        }
        host gaia-35-bmc {
            hardware ethernet 08:00:38:36:a8:9b;
            fixed-address     gaia-35-bmc;
        }
        host gaia-36-bmc {
            hardware ethernet 08:00:38:36:a8:71;
            fixed-address     gaia-36-bmc;
        }

        ### Bullx Inca Enclosure #3
        host gaia-37-bmc {
            hardware ethernet 08:00:38:36:aa:00;
            fixed-address     gaia-37-bmc;
        }
        host gaia-38-bmc {
            hardware ethernet 08:00:38:36:aa:0a;
            fixed-address     gaia-38-bmc;
        }
        host gaia-39-bmc {
            hardware ethernet 08:00:38:36:a9:f6;
            fixed-address     gaia-39-bmc;
        }
        host gaia-40-bmc {
            hardware ethernet 08:00:38:36:a8:a6;
            fixed-address     gaia-40-bmc;
        }
        host gaia-41-bmc {
            hardware ethernet 08:00:38:36:a8:62;
            fixed-address     gaia-41-bmc;
        }
        host gaia-42-bmc {
            hardware ethernet 08:00:38:36:a8:04;
            fixed-address     gaia-42-bmc;
        }
        host gaia-43-bmc {
            hardware ethernet 08:00:38:36:a8:a1;
            fixed-address     gaia-43-bmc;
        }
        host gaia-44-bmc {
            hardware ethernet 08:00:38:36:a8:82;
            fixed-address     gaia-44-bmc;
        }
        host gaia-45-bmc {
            hardware ethernet 08:00:38:36:a8:7b;
            fixed-address     gaia-45-bmc;
        }
        host gaia-46-bmc {
            hardware ethernet 08:00:38:36:a7:d1;
            fixed-address     gaia-46-bmc;
        }
        host gaia-47-bmc {
            hardware ethernet 08:00:38:36:a8:a4;
            fixed-address     gaia-47-bmc;
        }
        host gaia-48-bmc {
            hardware ethernet 08:00:38:36:a8:a3;
            fixed-address     gaia-48-bmc;
        }
        host gaia-49-bmc {
            hardware ethernet 08:00:38:36:a8:4c;
            fixed-address     gaia-49-bmc;
        }
        host gaia-50-bmc {
            hardware ethernet 08:00:38:36:aa:72;
            fixed-address     gaia-50-bmc;
        }
        host gaia-51-bmc {
            hardware ethernet 08:00:38:36:aa:62;
            fixed-address     gaia-51-bmc;
        }
        host gaia-52-bmc {
            hardware ethernet 08:00:38:36:aa:67;
            fixed-address     gaia-52-bmc;
        }
        host gaia-53-bmc {
            hardware ethernet 08:00:38:36:aa:45;
            fixed-address     gaia-53-bmc;
        }
        host gaia-54-bmc {
            hardware ethernet 08:00:38:36:aa:6c;
            fixed-address     gaia-54-bmc;
        }

        ### Bullx Inca Enclosure #4
        host gaia-55-bmc {
            hardware ethernet 08:00:38:36:aa:7d;
            fixed-address     gaia-55-bmc;
        }
        host gaia-56-bmc {
            hardware ethernet 08:00:38:36:aa:64;
            fixed-address     gaia-56-bmc;
        }
        host gaia-57-bmc {
            hardware ethernet 08:00:38:36:aa:52;
            fixed-address     gaia-57-bmc;
        }
        host gaia-58-bmc {
            hardware ethernet 08:00:38:36:aa:6a;
            fixed-address     gaia-58-bmc;
        }
        host gaia-59-bmc {
            hardware ethernet 08:00:38:36:aa:6b;
            fixed-address     gaia-59-bmc;
        }
        host gaia-60-bmc {
            hardware ethernet 08:00:38:36:aa:9d;
            fixed-address     gaia-60-bmc;
        }
        host gaia-61-bmc {
            hardware ethernet 08:00:38:35:f0:75;
            fixed-address     gaia-61-bmc;
        }
        host gaia-62-bmc {
            hardware ethernet 08:00:38:35:f0:9f;
            fixed-address     gaia-62-bmc;
        }


    } # End group host of the 'Mgmt' network




}
